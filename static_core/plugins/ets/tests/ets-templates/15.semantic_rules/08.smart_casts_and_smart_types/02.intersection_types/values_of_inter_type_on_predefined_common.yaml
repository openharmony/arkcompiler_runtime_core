# Copyright (c) 2026 Huawei Device Co., Ltd.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

cases:
  # Note: each 'check_variant_decl_data'
  # define different types A (TypeA) and B (TypeB) combinations
  # based on predefined types for check values of type A & B
  # which are part of type A | B
  - check_variant_decl_data: |-
      type TypeA = Object | undefined
      type TypeB = undefined | null

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [undefined, VarType.A_inter_B],
        [5n, VarType.A_diff_B],
        [123, VarType.A_diff_B],
        ["abc", VarType.A_diff_B],
        [c'a', VarType.A_diff_B],
        [null, VarType.B_diff_A] ]
      const check_values_number: int = 6
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v, undefined)"

  - check_variant_decl_data: |-
      type TypeA = Object | undefined
      type TypeB = Object | null

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [5n, VarType.A_inter_B],
        [123, VarType.A_inter_B],
        ["abc", VarType.A_inter_B],
        [c'a', VarType.A_inter_B],
        [undefined, VarType.A_diff_B],
        [null, VarType.B_diff_A] ]
      const check_values_number: int = 6
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertTrue(v.toString().length > 0)"

  - check_variant_decl_data: |-
      type TypeA = Object | undefined
      type TypeB = string | null

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        ["abc", VarType.A_inter_B],
        [undefined, VarType.A_diff_B],
        [5n, VarType.A_diff_B],
        [7.8, VarType.A_diff_B],
        [123, VarType.A_diff_B],
        [5.6f, VarType.A_diff_B],
        [c'a', VarType.A_diff_B],
        [null, VarType.B_diff_A] ]
      const check_values_number: int = 8
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.length, 3)"

  - check_variant_decl_data: |-
      type TypeA = string | undefined
      type TypeB = Object | null

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        ["abc", VarType.A_inter_B],
        [undefined, VarType.A_diff_B],
        [5n, VarType.B_diff_A],
        [7.8, VarType.B_diff_A],
        [123, VarType.B_diff_A],
        [5.6f, VarType.B_diff_A],
        [c'a', VarType.B_diff_A],
        [null, VarType.B_diff_A] ]
      const check_values_number: int = 8
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.length, 3)"

  - check_variant_decl_data: |-
      type TypeA = bigint | number | undefined
      type TypeB = Object | null

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [5n, VarType.A_inter_B],
        [7.8, VarType.A_inter_B],
        [undefined, VarType.A_diff_B],
        ["abc", VarType.B_diff_A],
        [123, VarType.B_diff_A],
        [5.6f, VarType.B_diff_A],
        [c'a', VarType.B_diff_A],
        [null, VarType.B_diff_A] ]
      const check_values_number: int = 8
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v, check_values[v_id][0])"

  - check_variant_decl_data: |-
      type TypeA = Any
      type TypeB = Object | undefined

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [5n, VarType.A_inter_B],
        [7.8, VarType.A_inter_B],
        ["abc", VarType.A_inter_B],
        [123, VarType.A_inter_B],
        [5.6f, VarType.A_inter_B],
        [c'a', VarType.A_inter_B],
        [undefined, VarType.A_inter_B],
        [null, VarType.A_diff_B] ]
      const check_values_number: int = 8
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v, check_values[v_id][0])"

  - check_variant_decl_data: |-
      type TypeA = Object | undefined
      type TypeB = Any

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [5n, VarType.A_inter_B],
        [7.8, VarType.A_inter_B],
        ["abc", VarType.A_inter_B],
        [123, VarType.A_inter_B],
        [5.6f, VarType.A_inter_B],
        [c'a', VarType.A_inter_B],
        [undefined, VarType.A_inter_B],
        [null, VarType.B_diff_A] ]
      const check_values_number: int = 8
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v, check_values[v_id][0])"

  - check_variant_decl_data: |-
      type TypeA = int | bigint | boolean | string
      type TypeB = string | char | bigint | float

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]
      let check_values: ReadonlyArray<CheckValueData> = [
        ["abc", VarType.A_inter_B],
        [5n, VarType.A_inter_B],
        [true, VarType.A_diff_B],
        [123, VarType.A_diff_B],
        [c'a', VarType.B_diff_A],
        [7.8f, VarType.B_diff_A] ]
      const check_values_number: int = 6
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v, check_values[v_id][0])"

  - check_variant_decl_data: |-
      type TypeA = char | int
      type TypeB = int | string

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [123, VarType.A_inter_B],
        [c'a', VarType.A_diff_B],
        [c'w', VarType.A_diff_B],
        ["abc", VarType.B_diff_A],
        ["efg", VarType.B_diff_A] ]
      const check_values_number: int = 5
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.toByte(), 123 as byte)"

  - check_variant_decl_data: |-
      type TypeA = char | long
      type TypeB = long | string

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [256 as long, VarType.A_inter_B],
        [c'a', VarType.A_diff_B],
        [c'w', VarType.A_diff_B],
        ["abc", VarType.B_diff_A],
        ["efg", VarType.B_diff_A] ]
      const check_values_number: int = 5
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.toInt(), 256)"

  - check_variant_decl_data: |-
      type TypeA = char | byte
      type TypeB = byte | string

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [5 as byte, VarType.A_inter_B],
        [c'a', VarType.A_diff_B],
        [c'w', VarType.A_diff_B],
        ["abc", VarType.B_diff_A],
        ["efg", VarType.B_diff_A] ]
      const check_values_number: int = 5
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.toInt(), 5)"

  - check_variant_decl_data: |-
      type TypeA = char | short
      type TypeB = short | string

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [128 as short, VarType.A_inter_B],
        [c'a', VarType.A_diff_B],
        [c'w', VarType.A_diff_B],
        ["abc", VarType.B_diff_A],
        ["efg", VarType.B_diff_A] ]
      const check_values_number: int = 5
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.toInt(), 128)"

  - check_variant_decl_data: |-
      type TypeA = char | double
      type TypeB = double | string

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [12.43, VarType.A_inter_B],
        [c'a', VarType.A_diff_B],
        [c'w', VarType.A_diff_B],
        ["abc", VarType.B_diff_A],
        ["efg", VarType.B_diff_A] ]
      const check_values_number: int = 5
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.toInt(), 12)"

  - check_variant_decl_data: |-
      type TypeA = char | number
      type TypeB = number | string

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [15.27, VarType.A_inter_B],
        [c'a', VarType.A_diff_B],
        [c'w', VarType.A_diff_B],
        ["abc", VarType.B_diff_A],
        ["efg", VarType.B_diff_A] ]
      const check_values_number: int = 5
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.toInt(), 15)"

  - check_variant_decl_data: |-
      type TypeA = char | float
      type TypeB = float | string

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [2.49f, VarType.A_inter_B],
        [c'a', VarType.A_diff_B],
        [c'w', VarType.A_diff_B],
        ["abc", VarType.B_diff_A],
        ["efg", VarType.B_diff_A] ]
      const check_values_number: int = 5
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.toInt(), 2)"

  - check_variant_decl_data: |-
      type TypeA = char | bigint
      type TypeB = bigint | string

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [3n, VarType.A_inter_B],
        [c'a', VarType.A_diff_B],
        [c'w', VarType.A_diff_B],
        ["abc", VarType.B_diff_A],
        ["efg", VarType.B_diff_A] ]
      const check_values_number: int = 5
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.pow(2n), 9n)"

  - check_variant_decl_data: |-
      type TypeA = float | string
      type TypeB = string | bigint

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        ["abc", VarType.A_inter_B],
        [1.7f, VarType.A_diff_B],
        [12.8f, VarType.A_diff_B],
        [5n, VarType.B_diff_A],
        [723n, VarType.B_diff_A] ]
      const check_values_number: int = 5
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.length, 3)"

  - check_variant_decl_data: |-
      type TypeA = float | char
      type TypeB = char | bigint

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [c'a', VarType.A_inter_B],
        [1.7f, VarType.A_diff_B],
        [12.8f, VarType.A_diff_B],
        [5n, VarType.B_diff_A],
        [723n, VarType.B_diff_A] ]
      const check_values_number: int = 5
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.toString(), \"a\")"

  - check_variant_decl_data: |-
      type TypeA = number | boolean
      type TypeB = boolean | string

      // VarType is type of v variable after branching on
      // "v instanceof A" and "v instanceof B"
      enum VarType {A_inter_B, A_diff_B, B_diff_A}
      type CheckValueData = [
        TypeA | TypeB, // value
        VarType // value_type
      ]

      let check_values: ReadonlyArray<CheckValueData> = [
        [true, VarType.A_inter_B],
        [1.7, VarType.A_diff_B],
        [12.8, VarType.A_diff_B],
        ["abc", VarType.B_diff_A],
        ["efg", VarType.B_diff_A] ]
      const check_values_number: int = 5
    check_value_by_expression_as_type_A_inter_B:
      "arktest.assertEQ(v.valueOf(), true)"
